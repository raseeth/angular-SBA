<div class="container">
  <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-8"></div>
  </div>
  <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-8"></div>
  </div>
  <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-8"></div>
  </div>
  <div class="row">
    <div class="col-sm-4"></div>
    <div class="col-sm-8"></div>
  </div>
</div>


<form [formGroup]="addProjectForm" class="form" (ngSubmit)="onSubmit()">

  <div class="form-group row">
    <label for="project" class="col-sm-2 col-form-label">Project</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="name" formControlName="name" placeholder="Project Name">
      <span *ngIf="addProjectForm.get('name').hasError('required')">This is required</span>
    </div>
  </div>

  <div class="form-group row">
    <label for="date" class="col-sm-2 col-form-label"></label>
    <div class="col-sm-10">
      <div class="row">
        <span class="col-sm-4">
          <input type="checkbox" id="enableStartAndEndDate" (change)="onEnableStartDate(false)"
            formControlName="enableStartAndEndDate">
          <label for="enableStartAndEndDate">Set start date and end date</label>
        </span>
        <span class="col-sm-8">
          <span class="m-3">
            <input type="date" id="startDate" formControlName="startDate" placeholder="startDate">
          </span>
          <span class="m-3">
            <input type="date" id="endDate" formControlName="endDate" placeholder="endDate">
          </span>
        </span>
      </div>
      <span *ngIf="validDate === false">
        * Start date and end Date should be available and
        Start date should be earlier than end date.
      </span>
    </div>
  </div>

  <div class="form-group row">
    <label for="priority" class="col-sm-2 col-form-label">Priority</label>
    <div class="col-sm-9">
      <input type="range" class="form-control" formControlName="priority" min="0" max="30" step="1" id="priority">
      <span *ngIf="addProjectForm.get('priority').hasError('required')">This is required</span>
    </div>
    <div class="col-sm-1">
      {{addProjectForm.get('priority').value}}
    </div>
  </div>

  <div class="form-group row">
    <label for="project" class="col-sm-2 col-form-label">Manager</label>
    <div class="col-sm-10">
      <div class="input-group mb-3">
        <select disabled class="form-control" formControlName="userId">
          <option *ngFor="let user of users" value="{{user.id}}">{{user.firstName}},{{user.lastName}}
          </option>
        </select>
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" (click)="onSearchUser()">Search</button>
        </div>
      </div>
      <span *ngIf="addProjectForm.get('userId').hasError('required')">This is required</span>
    </div>
  </div>

  <div class="">
    <button type="submit" *ngIf="!isUpdate" class="btn btn-primary p-2">Add project</button>
    <button type="submit" *ngIf="isUpdate" class="btn btn-primary p-2">Update project</button>
    <button type="button" (click)="onReset()" class="btn btn-secondary p-2 ml-2">Reset</button>
  </div>
</form>
